<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: RuboCop::SortedMethodsByCall::Compare
  
    &mdash; Documentation by YARD 0.9.28
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "RuboCop::SortedMethodsByCall::Compare";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../RuboCop.html" title="RuboCop (module)">RuboCop</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../SortedMethodsByCall.html" title="RuboCop::SortedMethodsByCall (module)">SortedMethodsByCall</a></span></span>
     &raquo; 
    <span class="title">Compare</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: RuboCop::SortedMethodsByCall::Compare
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/rubocop/sorted_methods_by_call/compare.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p><code>RuboCop::SortedMethodsByCall::Compare</code> provides helpers to compare definition orders and call orders using “ordered subsequence” semantics. It’s used by the cop to check that called methods appear in the same relative order as they are defined (not necessarily contiguously).</p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#hashes_ordered_equal%3F-class_method" title="hashes_ordered_equal? (class method)">.<strong>hashes_ordered_equal?</strong>(actual, expected)  &#x21d2; Bool </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p><tt>RuboCop::SortedMethodsByCall::Compare.hashes_ordered_equal?(actual, expected)</tt> -&gt; Bool.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#subsequence%3F-class_method" title="subsequence? (class method)">.<strong>subsequence?</strong>(arr, sub)  &#x21d2; Bool </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p><tt>RuboCop::SortedMethodsByCall::Compare.subsequence?(arr, sub)</tt> -&gt; Bool.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="hashes_ordered_equal?-class_method">
  
    .<strong>hashes_ordered_equal?</strong>(actual, expected)  &#x21d2; <tt>Bool</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p><tt>RuboCop::SortedMethodsByCall::Compare.hashes_ordered_equal?(actual, expected)</tt> -&gt; Bool</p>

<p>For each scope key, checks that every call in <code>expected[k]</code> exists in <code>actual[k]</code> and appears in the same relative order (i.e., <code>expected[k]</code> is a subsequence of <code>actual[k]</code>). Returns false if a call is unknown (not present in <code>actual[k]</code>) or out of order.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_defs'>defs</span>  <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>main:</span> <span class='qsymbols_beg'>%i[</span><span class='tstring_content'>abc</span><span class='words_sep'> </span><span class='tstring_content'>foo</span><span class='words_sep'> </span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>hello</span><span class='tstring_end'>]</span></span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_calls'>calls</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>main:</span> <span class='qsymbols_beg'>%i[</span><span class='tstring_content'>foo</span><span class='words_sep'> </span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>hello</span><span class='tstring_end'>]</span></span> <span class='rbrace'>}</span>
<span class='const'><span class='object_link'><a href="../../RuboCop.html" title="RuboCop (module)">RuboCop</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../SortedMethodsByCall.html" title="RuboCop::SortedMethodsByCall (module)">SortedMethodsByCall</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="RuboCop::SortedMethodsByCall::Compare (module)">Compare</a></span></span><span class='period'>.</span><span class='id identifier rubyid_hashes_ordered_equal?'>hashes_ordered_equal?</span><span class='lparen'>(</span><span class='id identifier rubyid_defs'>defs</span><span class='comma'>,</span> <span class='id identifier rubyid_calls'>calls</span><span class='rparen'>)</span> <span class='comment'>#=&gt; true
</span>
<span class='id identifier rubyid_calls2'>calls2</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>main:</span> <span class='qsymbols_beg'>%i[</span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>foo</span><span class='tstring_end'>]</span></span> <span class='rbrace'>}</span>
<span class='const'><span class='object_link'><a href="../../RuboCop.html" title="RuboCop (module)">RuboCop</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../SortedMethodsByCall.html" title="RuboCop::SortedMethodsByCall (module)">SortedMethodsByCall</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="RuboCop::SortedMethodsByCall::Compare (module)">Compare</a></span></span><span class='period'>.</span><span class='id identifier rubyid_hashes_ordered_equal?'>hashes_ordered_equal?</span><span class='lparen'>(</span><span class='id identifier rubyid_defs'>defs</span><span class='comma'>,</span> <span class='id identifier rubyid_calls2'>calls2</span><span class='rparen'>)</span> <span class='comment'>#=&gt; false</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>actual</span>
      
      
        <span class='type'>(<tt>Hash{Object=&gt;Array&lt;Symbol&gt;}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Actual definitions per scope.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>expected</span>
      
      
        <span class='type'>(<tt>Hash{Object=&gt;Array&lt;Symbol&gt;}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Expected calls per scope.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Bool</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if for every scope <code>k</code>, <code>expected[k]</code> is a subsequence of <code>actual[k]</code> and contains no unknown methods.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


29
30
31
32
33
34
35
36
37</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rubocop/sorted_methods_by_call/compare.rb', line 29</span>

<span class='kw'>def</span> <span class='id identifier rubyid_hashes_ordered_equal?'>hashes_ordered_equal?</span><span class='lparen'>(</span><span class='id identifier rubyid_actual'>actual</span><span class='comma'>,</span> <span class='id identifier rubyid_expected'>expected</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id identifier rubyid_actual'>actual</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_expected'>expected</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>

  <span class='lparen'>(</span><span class='id identifier rubyid_actual'>actual</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span> <span class='op'>|</span> <span class='id identifier rubyid_expected'>expected</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all?'>all?</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span>
    <span class='id identifier rubyid_defs'>defs</span> <span class='op'>=</span> <span class='const'>Array</span><span class='lparen'>(</span><span class='id identifier rubyid_actual'>actual</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_calls'>calls</span> <span class='op'>=</span> <span class='const'>Array</span><span class='lparen'>(</span><span class='id identifier rubyid_expected'>expected</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='lparen'>(</span><span class='id identifier rubyid_calls'>calls</span> <span class='op'>-</span> <span class='id identifier rubyid_defs'>defs</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_subsequence?'>subsequence?</span><span class='lparen'>(</span><span class='id identifier rubyid_defs'>defs</span><span class='comma'>,</span> <span class='id identifier rubyid_calls'>calls</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="subsequence?-class_method">
  
    .<strong>subsequence?</strong>(arr, sub)  &#x21d2; <tt>Bool</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p><tt>RuboCop::SortedMethodsByCall::Compare.subsequence?(arr, sub)</tt> -&gt; Bool</p>

<p>Returns true if <code>sub</code> is a subsequence of <code>arr</code> (order preserved), not necessarily contiguous. An empty <code>sub</code> returns true.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_arr'>arr</span> <span class='op'>=</span> <span class='qsymbols_beg'>%i[</span><span class='tstring_content'>abc</span><span class='words_sep'> </span><span class='tstring_content'>foo</span><span class='words_sep'> </span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>hello</span><span class='tstring_end'>]</span></span>
<span class='const'><span class='object_link'><a href="../../RuboCop.html" title="RuboCop (module)">RuboCop</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../SortedMethodsByCall.html" title="RuboCop::SortedMethodsByCall (module)">SortedMethodsByCall</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="RuboCop::SortedMethodsByCall::Compare (module)">Compare</a></span></span><span class='period'>.</span><span class='id identifier rubyid_subsequence?'>subsequence?</span><span class='lparen'>(</span><span class='id identifier rubyid_arr'>arr</span><span class='comma'>,</span> <span class='qsymbols_beg'>%i[</span><span class='tstring_content'>foo</span><span class='words_sep'> </span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>hello</span><span class='tstring_end'>]</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; true
</span><span class='const'><span class='object_link'><a href="../../RuboCop.html" title="RuboCop (module)">RuboCop</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../SortedMethodsByCall.html" title="RuboCop::SortedMethodsByCall (module)">SortedMethodsByCall</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="RuboCop::SortedMethodsByCall::Compare (module)">Compare</a></span></span><span class='period'>.</span><span class='id identifier rubyid_subsequence?'>subsequence?</span><span class='lparen'>(</span><span class='id identifier rubyid_arr'>arr</span><span class='comma'>,</span> <span class='qsymbols_beg'>%i[</span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>foo</span><span class='tstring_end'>]</span></span><span class='rparen'>)</span>       <span class='comment'>#=&gt; false</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>arr</span>
      
      
        <span class='type'>(<tt>Array&lt;#==&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Base sequence (typically Array&lt;Symbol&gt;).</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>sub</span>
      
      
        <span class='type'>(<tt>Array&lt;#==&gt;</tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Candidate subsequence (typically Array&lt;Symbol&gt;).</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Bool</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if <code>sub</code> appears in <code>arr</code> in order.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rubocop/sorted_methods_by_call/compare.rb', line 52</span>

<span class='kw'>def</span> <span class='id identifier rubyid_subsequence?'>subsequence?</span><span class='lparen'>(</span><span class='id identifier rubyid_arr'>arr</span><span class='comma'>,</span> <span class='id identifier rubyid_sub'>sub</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_sub'>sub</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_sub'>sub</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_sub'>sub</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_el'>el</span><span class='op'>|</span>
    <span class='id identifier rubyid_found'>found</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>while</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_arr'>arr</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_el'>el</span>
        <span class='id identifier rubyid_found'>found</span> <span class='op'>=</span> <span class='kw'>true</span>
        <span class='id identifier rubyid_i'>i</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='kw'>break</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_i'>i</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>end</span>
    <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id identifier rubyid_found'>found</span>
  <span class='kw'>end</span>
  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu Nov  6 01:33:02 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.28 (ruby-3.4.7).
</div>

    </div>
  </body>
</html>